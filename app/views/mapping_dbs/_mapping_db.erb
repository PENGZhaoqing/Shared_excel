<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">控制面板</h3>
  </div>
  <div class="panel-body" style="min-height: 600px">

    <h4 class="text-muted">授权码列表</h4>
    <hr>

    <% unless params[:query].blank? %>
        <text class="text-danger">搜索结果显示:
          <mark><%= params[:query] %></mark>
        </text>
    <% end %>

    <%= form_tag export_mapping_dbs_path, :method => :get, class: "pull-right" do %>
        <%= hidden_field_tag :query, params[:query] %>
        <%= button_tag(type: "submit", class: "btn btn-success btn") do %>
            <span class="glyphicon glyphicon-floppy-save"></span> 导出
        <% end %>
    <% end %>

    <%= form_tag mapping_dbs_path, method: 'get', class: "col-sm-4 pull-right", role: "search" do %>
        <div class="input-group">
          <%= text_field_tag 'query', params[:query], class: "form-control", placeholder: "搜索供应商/授权码" %>
          <div class="input-group-btn">
            <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
          </div>
        </div>
    <% end %>

    <table class="table table-responsive table-condensed table-hover">
      <thead>
      <tr>
        <th>供应商</th>
        <th>映射名称</th>
        <th>授权码</th>
      </tr>
      </thead>

      <tbody>
      <% @mapping_dbs.each do |dbs| %>
          <tr>
            <td>
              <text style="font-size: small"><%= dbs.supplier1 %></text>
            </td>
            <td>
              <text style="font-size: small"><%= dbs.supplier2 %></text>
            </td>
            <td>
              <text style="font-size: small"><%= dbs.auth_token %></text>
            </td>
          </tr>
      <% end %>

      </tbody>
    </table>

    <%= will_paginate @mapping_dbs, :param_name => 'mapping_page',
                      :previous_label => t("前一页"), :next_label => t("后一页"), :inner_window => 1 %>

  </div>

</div>





